@using Microsoft.AspNetCore.Components.Forms
@using Taller.Shared.Entities

<EditForm Model="Employee" OnValidSubmit="HandleSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <MudTextField Label="Nombre"
                  @bind-Value="Employee.FirstName"
                  For="@(() => Employee.FirstName)" Class="mb-3" />

    <MudTextField Label="Apellido"
                  @bind-Value="Employee.LastName"
                  For="@(() => Employee.LastName)" Class="mb-3" />

    <!-- El booleano debe ir con Checked -->
    <!-- Muestra el valor enlazado para depurar -->
    <MudText Class="mb-1">Debug IsActive: @isActive</MudText>

    <!-- En lugar de @bind-Checked, usa Checked/CheckedChanged explícitos -->
    <MudCheckBox T="bool"
                 Checked="isActive"
                 CheckedChanged="OnActiveChanged"
                 Immediate="true"
                 Class="mb-3">
        Activo
    </MudCheckBox>

    <MudDatePicker Label="Fecha de Ingreso"
                   @bind-Date="HireDateNullable"
                   Class="mb-3" />

    <MudNumericField T="decimal" Label="Salario"
                     @bind-Value="Employee.Salary"
                     For="@(() => Employee.Salary)" Class="mb-4" />

    <MudStack Row="true" Spacing="2">
        <MudButton Variant="Variant.Outlined" Color="Color.Info" OnClick="ReturnAction">Cancelar</MudButton>
        <MudButton Variant="Variant.Filled" Color="Color.Primary" ButtonType="ButtonType.Submit">Guardar</MudButton>
    </MudStack>
</EditForm>
